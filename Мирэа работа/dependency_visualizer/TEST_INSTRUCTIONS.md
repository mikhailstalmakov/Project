# Инструкции по запуску проверки

## Быстрый старт

### 1. Проверка с реальным пакетом из PyPI

```bash
cd dependency_visualizer
python main.py config.xml
```

Это проверит зависимости пакета `requests` из PyPI.

### 2. Проверка с тестовым репозиторием

```bash
cd dependency_visualizer
python main.py config_test.xml
```

Это проверит зависимости пакета `A` из тестового файла `test_repo.txt`.

### 3. Проверка с фильтрацией

```bash
cd dependency_visualizer
python main.py config_test_filter.xml
```

Это проверит зависимости с фильтрацией пакетов, содержащих подстроку `I`.

### 4. Проверка обратных зависимостей

```bash
cd dependency_visualizer
python main.py config_test.xml --reverse E
```

Это покажет все пакеты, которые зависят от пакета `E`.

## Проверка всех этапов

### Этап 1: Конфигурация
Запустите любой из примеров выше - все параметры будут выведены на экран.

### Этап 2: Прямые зависимости
После вывода конфигурации будут показаны прямые зависимости пакета.

### Этап 3: Граф зависимостей
Будет построен полный граф зависимостей с обнаружением циклов.

### Этап 4: Обратные зависимости
Используйте флаг `--reverse` для проверки обратных зависимостей.

### Этап 5: Визуализация
Будет сгенерирован код D2 и (если установлен D2) файл SVG.

## Проверка обработки ошибок

### Несуществующий конфигурационный файл
```bash
python main.py nonexistent.xml
```
Ожидается: `FileNotFoundError`

### Некорректный XML
Создайте файл с ошибкой в XML и запустите:
```bash
python main.py bad_config.xml
```
Ожидается: `ValueError` с описанием ошибки парсинга XML

### Отсутствующий параметр
Создайте конфиг без одного из обязательных параметров.
Ожидается: `ValueError` с указанием отсутствующего параметра

### Несуществующий пакет на PyPI
Измените `package_name` в `config.xml` на несуществующий пакет.
Ожидается: `RuntimeError` с сообщением о том, что пакет не найден

## Проверка тестового режима

Убедитесь, что файл `test_repo.txt` существует и содержит зависимости в формате:
```
A: B C D
B: E F
```

Запустите:
```bash
python main.py config_test.xml
```

## Проверка визуализации

Для генерации SVG файла необходимо установить D2:
- Windows: https://d2lang.com/install
- Или через winget: `winget install Terrastruct.D2`

После установки D2, запуск приложения автоматически сгенерирует SVG файл.

Если D2 не установлен, будет создан только файл `.d2`, который можно скомпилировать вручную:
```bash
d2 graph.d2 graph.svg
```

